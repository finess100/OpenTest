#!/bin/bash
#echo "On est dans rules/prix.sh"
demandeur_id=$1
demandeur_nom=$2
valeur_actuelle=$3
validation_regle_max=$(cat ./temp/rules/couleur)

#echo "validation_regle_max = $validation_regle_max"
#echo "valeur_actuelle = $valeur_actuelle"
#echo "demandeur_id = $demandeur_id"
#echo "demandeur_nom = $demandeur_nom"

compteur=0

for valeur in $valeur_actuelle;do

	objet_est_il_ok=""

	for couleur in $validation_regle_max;do

	if [[ "$valeur" == "$couleur" ]];then

		objet_est_il_ok="oui"
		total="$total\n$objet_est_il_ok"

	fi

	done

	compteur=$((compteur+1))

done

	if [[ $(echo -e $total | grep "oui" | wc -l) -eq $compteur ]];then

	echo -e "\e[96m`date +%s%N` ($demandeur_id : $demandeur_nom) $valeur_actuelle/$validation_regle_max-> rules/couleur - OK\e[97m" >> ./results/live

	fi
